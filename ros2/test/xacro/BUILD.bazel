load("@rules_python//python:defs.bzl", "py_test")
load("@ros2_xacro//bazel:defs.bzl", "xacro_file")

xacro_file(
    name = "test_urdf",
    src = "test.urdf.xacro",
)

xacro_file(
    name = "sample1",
    src = "sample1.urdf.xacro",
)

xacro_file(
    name = "test_include",
    src = "sample2.urdf.xacro",
    deps = ["sample1"],
)

xacro_file(
    name = "test_with_params",
    data = [
        "params.yaml",
    ],
    src = "test_with_params.urdf.xacro",
)

py_test(
    name = "tests",
    size = "small",
    srcs = ["tests.py"],
    data = [
        ":test_include",
        ":test_urdf",
        ":test_with_params",
    ],
)
